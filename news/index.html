<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • omopcept</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">omopcept</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.6.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/drug-classes.html">Getting drug classes from the OMOP hierarchy</a></li>
    <li><a class="dropdown-item" href="../articles/getting-omop-concept-data.html">getting-omop-concept-data</a></li>
    <li><a class="dropdown-item" href="../articles/hierarchy-for-blood-counts.html">Exploring OMOP hierarchy for blood counts</a></li>
    <li><a class="dropdown-item" href="../articles/query-and-graph-concept-hierarchies.html">query-and-graph-concept-hierarchies</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SAFEHR-data/omopcept/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/SAFEHR-data/omopcept/blob/master/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.6.2" id="omopcept-0062-2025-03-05-dev-version">omopcept 0.0.6.2 2025-03-05 DEV version<a class="anchor" aria-label="anchor" href="#omopcept-0062-2025-03-05-dev-version"></a></h2>
<ul><li>add arg <code>nodetxtvar</code> to <code><a href="../reference/omop_graph.html">omop_graph()</a></code> to allow node label to be set to any column</li>
<li>issue fixed in <code><a href="../reference/omop_cdm_read.html">omop_cdm_read()</a></code> that ID columns being read in as double not integer as needed for later joins</li>
<li>
<code><a href="../reference/omop_graph.html">omop_graph()</a></code> working on raw relations table e.g. <code>omop_concept_relationship() |&gt; head(50) |&gt; collect() |&gt; omop_graph(nodecolourvar="relationship_id", nodetxtsize=3)</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.6.1" id="omopcept-0061-2024-12-18">omopcept 0.0.6.1 2024-12-18<a class="anchor" aria-label="anchor" href="#omopcept-0061-2024-12-18"></a></h2>
<ul><li>add helper functions <code>omopfreq*()</code> for counting frequency of values in <code>domain</code> <code>conceptclass</code> <code>relationship</code> or <code>vocabulary</code>
</li>
<li>split out <code><a href="../reference/omop_graph_calc.html">omop_graph_calc()</a></code> for separate calculation of nodes &amp; edges, either a) to enable other data to be joined on (e.g. num records) for visualisation or b) so nodes &amp; edges can be passed to an alternative renderer (as yet unknown)<br></li>
<li>split out <code><a href="../reference/omop_graph_vis.html">omop_graph_vis()</a></code> to enable other data to be joined on (e.g. num records) for visualisation</li>
<li>
<code><a href="../reference/omop_graph.html">omop_graph()</a></code> gets separate args <code>nodesizevar</code> and <code>nodesize</code> so size can be set by a variable column and/or a sizing param</li>
<li>add <code><a href="../reference/omop_drug_lookup_create.html">omop_drug_lookup_create()</a></code> to create a lookup table from drugs in <code>RxNorm</code> or <code>RxNorm Extension</code> to <code>ATC</code> drug classes at all levels</li>
<li>update omop vocabs &amp; default location for pre-processed ones moved to Github</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.6.0" id="omopcept-0060-2024-09-26">omopcept 0.0.6.0 2024-09-26<a class="anchor" aria-label="anchor" href="#omopcept-0060-2024-09-26"></a></h2>
<div class="section level4">
<h4 id="breaking-changes-0-0-6-0">BREAKING CHANGES<a class="anchor" aria-label="anchor" href="#breaking-changes-0-0-6-0"></a></h4>
<p>To make use of <code><a href="../reference/omop_relations.html">omop_relations()</a></code> easier and more intuitive * <code>omop_relations_recursive()</code> arg <code>num_recurse</code> changed to <code>nsteps</code> * <code>omop_relations_recursive()</code> renamed to <code><a href="../reference/omop_relations.html">omop_relations()</a></code> which in turn renamed to <code><a href="../reference/omop_relations1step.html">omop_relations1step()</a></code> * <code><a href="../reference/omop_relations.html">omop_relations()</a></code> now optionally adds column <code>step</code> for plot colouring, replacing <code>recurse_level</code></p>
</div>
<div class="section level4">
<h4 id="non-breaking-changes-0-0-6-0">non-breaking changes<a class="anchor" aria-label="anchor" href="#non-breaking-changes-0-0-6-0"></a></h4>
<ul><li>
<code><a href="../reference/omop_graph.html">omop_graph()</a></code> gets args <code>caption</code> <code>captionsize</code> <code>captionjust</code> <code>captioncolour</code>
</li>
<li>repository moved from <code>andysouth</code> to <code>SAFEHR-data</code>
</li>
<li>issue fixed in <code>omop_relations</code> &amp; <code><a href="../reference/omop_graph.html">omop_graph()</a></code> with colouring plots by <code>recurse_level</code>
</li>
<li>
<code>omop_grap()</code> gets <code>nodesize</code> arg (NOT functioning yet)</li>
<li>
<code>omop_grap()</code> gets <code>canvas</code> arg to set plot size, one of “A4”,“A4l”,“A3”,“A3l”,“A2”,“A2l”,“A1”,“A1l”,“A0”,“A0l”,“slide”,“slidehalf”</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.5.9" id="omopcept-0059-2024-07-24">omopcept 0.0.5.9 2024-07-24<a class="anchor" aria-label="anchor" href="#omopcept-0059-2024-07-24"></a></h2>
<ul><li><p><code><a href="../reference/omop_graph.html">omop_graph()</a></code> gets args <code>palettedirection</code> <code>nodetxtnudgex</code> <code>nodetxtnudgey</code> <code>titlejust</code> <code>backcolour</code></p></li>
<li><p><code>omop_relations_recursive()</code> gets arg <code>add_recurse_column</code> to add a column with <code>recurse_level</code> that can be used to colour</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.5.8" id="omopcept-0058-2024-07-09">omopcept 0.0.5.8 2024-07-09<a class="anchor" aria-label="anchor" href="#omopcept-0058-2024-07-09"></a></h2>
<ul><li>bugfix in <code><a href="../reference/omop_cdm_combine.html">omop_cdm_combine()</a></code>, defend against ‘non-numeric argument to binary operator’</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.5.7" id="omopcept-0057-2024-06-12">omopcept 0.0.5.7 2024-06-12<a class="anchor" aria-label="anchor" href="#omopcept-0057-2024-06-12"></a></h2>
<ul><li>
<code><a href="../reference/omop_cdm_combine.html">omop_cdm_combine()</a></code> outputs msg of uniquefied fields</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.5.6" id="omopcept-0056-2024-06-11">omopcept 0.0.5.6 2024-06-11<a class="anchor" aria-label="anchor" href="#omopcept-0056-2024-06-11"></a></h2>
<ul><li>
<code><a href="../reference/omop_cdm_combine.html">omop_cdm_combine()</a></code> refactored to make all IDs unique that it didn’t before</li>
<li>
<code><a href="../reference/omop_relations.html">omop_relations()</a></code> gets <code>names2avoid</code> arg</li>
<li>
<code><a href="../reference/omop_graph.html">omop_graph()</a></code> gets args <code>nodealpha</code> <code>edgealpha</code> <code>edgewidth</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.5.5" id="omopcept-0055-2024-05-10">omopcept 0.0.5.5 2024-05-10<a class="anchor" aria-label="anchor" href="#omopcept-0055-2024-05-10"></a></h2>
<ul><li>
<code><a href="../reference/omop_cdm_combine.html">omop_cdm_combine()</a></code> gets <code>make_care_site_id_unique</code> &amp; <code>add_care_site_name_to_person_id_tables</code> arg</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.5.4" id="omopcept-0054-2024-05-09">omopcept 0.0.5.4 2024-05-09<a class="anchor" aria-label="anchor" href="#omopcept-0054-2024-05-09"></a></h2>
<ul><li>
<code><a href="../reference/omop_cdm_combine.html">omop_cdm_combine()</a></code> gets <code>make_person_id_unique</code> arg</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.5.3" id="omopcept-0053-2024-05-08">omopcept 0.0.5.3 2024-05-08<a class="anchor" aria-label="anchor" href="#omopcept-0053-2024-05-08"></a></h2>
<ul><li>
<code><a href="../reference/omop_graph.html">omop_graph()</a></code> gets args <code>nodetxtangle</code> <code>legendshow</code>
</li>
<li>read in omop cdm instance with <code><a href="../reference/omop_cdm_read.html">omop_cdm_read()</a></code> &amp; <code><a href="../reference/omop_cdm_table_read.html">omop_cdm_table_read()</a></code>
</li>
<li>combine cdm instances with <code><a href="../reference/omop_cdm_combine.html">omop_cdm_combine()</a></code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.5.2" id="omopcept-0052-2024-03-13">omopcept 0.0.5.2 2024-03-13<a class="anchor" aria-label="anchor" href="#omopcept-0052-2024-03-13"></a></h2>
<ul><li>add to <code><a href="../reference/omop_codes.html">omop_codes()</a></code> exact &amp; fixed args, e.g. easier to search for loinc codes</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.5.1" id="omopcept-0051-2024-03-01">omopcept 0.0.5.1 2024-03-01<a class="anchor" aria-label="anchor" href="#omopcept-0051-2024-03-01"></a></h2>
<ul><li>
<code><a href="../reference/omop_join_name.html">omop_join_name()</a></code> protects against concept_id columns that are not integer</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.5.0" id="omopcept-0050-2024-01-30">omopcept 0.0.5.0 2024-01-30<a class="anchor" aria-label="anchor" href="#omopcept-0050-2024-01-30"></a></h2>
<ul><li>started vignette on hierarchy, access with <code><a href="../articles/hierarchy-for-blood-counts.html">vignette("hierarchy-for-blood-counts")</a></code>
</li>
<li>
<code><a href="../reference/omop_relations.html">omop_relations()</a></code> add arg <code>itself</code> whether to include relations to concept itself, default=FALSE</li>
<li>
<code><a href="../reference/omop_names.html">omop_names()</a></code> add an arg <code>fixed</code> (default=FALSE) that when true matches string as-is</li>
<li>
<code><a href="../reference/omop_domain.html">omop_domain()</a></code> return domain_id s for concept_id s</li>
<li>
<code><a href="../reference/omop_id.html">omop_id()</a></code> now accepts multiple ids and can specify columns to return + a bit faster</li>
<li>
<code><a href="../reference/omop_concept_fields.html">omop_concept_fields()</a></code> <code><a href="../reference/omop_concept_ancestor_fields.html">omop_concept_ancestor_fields()</a></code> <code><a href="../reference/omop_concept_relationship_fields.html">omop_concept_relationship_fields()</a></code> to get column names of omop tables, short name equivalents <code><a href="../reference/omop_concept_fields.html">ocfields()</a></code> <code><a href="../reference/omop_concept_ancestor_fields.html">ocafields()</a></code> <code><a href="../reference/omop_concept_relationship_fields.html">ocrfields()</a></code>
</li>
<li>
<code><a href="../reference/omop_join_name.html">omop_join_name()</a></code> made much faster by not using copy=true in join</li>
<li>BREAKING CHANGE <code><a href="../reference/omop_join_name.html">omop_join_name()</a></code> &amp; <code><a href="../reference/omop_join_name_all.html">omop_join_name_all()</a></code> refactor and simplify column args</li>
<li>
<code><a href="../reference/omop_join_name.html">omop_join_name()</a></code> arg columns=“all” to join all concept table columns</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.4.0" id="omopcept-0040-2024-01-08">omopcept 0.0.4.0 2024-01-08<a class="anchor" aria-label="anchor" href="#omopcept-0040-2024-01-08"></a></h2>
<ul><li>fix bug in omop_join_names_all() - Error in class(df) == “list”</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.3.0" id="omopcept-0030-2024-01-05">omopcept 0.0.3.0 2024-01-05<a class="anchor" aria-label="anchor" href="#omopcept-0030-2024-01-05"></a></h2>
<ul><li>
<code><a href="../reference/omop_names.html">omop_names()</a></code> added argument <code>exact=</code> TRUE for exact string search, “start” for exact start, “end” for exact end</li>
<li>
<code><a href="../reference/omop_check_names.html">omop_check_names()</a></code> to check that concept names and ids match in a passed table</li>
<li>fix bug in <code><a href="../reference/omop_join_name_all.html">omop_join_name_all()</a></code> to cope with “domain_concept_id_1” from FACT_RELATIONSHIP</li>
<li>
<code><a href="../reference/omop_join_name_all.html">omop_join_name_all()</a></code> now copes with a list of multiple tables</li>
<li>update readme about vocabulary download options</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.2.0" id="omopcept-0020-2023-12-27">omopcept 0.0.2.0 2023-12-27<a class="anchor" aria-label="anchor" href="#omopcept-0020-2023-12-27"></a></h2>
<ul><li>graph pkgs igraph,tidygraph,ggraph moved from imports to suggests</li>
<li>
<code>num_recurse</code> loop start at 1 rather than 0 in <code><a href="../reference/omop_relations_multiple.html">omop_relations_multiple()</a></code> &amp; <code>omop_relations_recursive()</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.1.1" id="omopcept-0011-2023-11-15">omopcept 0.0.1.1 2023-11-15<a class="anchor" aria-label="anchor" href="#omopcept-0011-2023-11-15"></a></h2>
<ul><li>
<code><a href="../reference/omop_vocabs_preprocess.html">omop_vocabs_preprocess()</a></code> read in omop vocab csvs, preprocess to parquet save in package cache</li>
<li>
<code><a href="../reference/omop_vocab_table_save.html">omop_vocab_table_save()</a></code> renamed from <code>omop_download()</code>
</li>
<li>
<code><a href="../reference/omop_graph.html">omop_graph()</a></code> auto file naming</li>
<li>
<code><a href="../reference/omop_relations.html">omop_relations()</a></code> add <code>r_ids</code> arg to filter by <code>relationship_id</code> e.g. <code>c('Is a','Subsumes')</code>
</li>
<li>
<code>omop_relations_recursive()</code> added to recursively extract relations of a single concept</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.1.0" id="omopcept-0010-2023-10-14">omopcept 0.0.1.0 2023-10-14<a class="anchor" aria-label="anchor" href="#omopcept-0010-2023-10-14"></a></h2>
<ul><li>
<code><a href="../reference/omop_graph.html">omop_graph()</a></code> working for visualising omop hierarchy with <code>ggraph</code>
</li>
<li>
<code>domain</code>, <code>vocabulary</code>, <code>concept_code</code> &amp; <code>concept_class</code> optional args added to <code><a href="../reference/omop_join_name.html">omop_join_name()</a></code> &amp; <code><a href="../reference/omop_join_name_all.html">omop_join_name_all()</a></code> to be able to also join these columns</li>
<li>
<code>namefull</code> optional arg added to <code><a href="../reference/omop_join_name.html">omop_join_name()</a></code> to cope with e.g. <code>concept_id_2</code> in <code><a href="../reference/omop_join_name_all.html">omop_join_name_all()</a></code>
</li>
<li>
<code><a href="../reference/omop_relations.html">omop_relations()</a></code> and <code><a href="../reference/omop_concept_relationship.html">omop_concept_relationship()</a></code> for getting more info about immediate neighbour relationships</li>
<li>bugfix, <code><a href="../reference/omop_ancestors.html">omop_ancestors()</a></code> &amp; <code>omop_decsendants()</code> were not filtering domin, separation etc., when <code>concept_id</code> not specified</li>
<li>option for NULL <code>c_id</code> to <code><a href="../reference/omop_descendants.html">omop_descendants()</a></code> and <code><a href="../reference/omop_ancestors.html">omop_ancestors()</a></code>, returns all concepts within other filters</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9005" id="omopcept-0009005-2023-08-08">omopcept 0.0.0.9005 2023-08-08<a class="anchor" aria-label="anchor" href="#omopcept-0009005-2023-08-08"></a></h2>
<ul><li>optional <code>itself</code> argument (default FALSE) to <code><a href="../reference/omop_descendants.html">omop_descendants()</a></code> and <code><a href="../reference/omop_ancestors.html">omop_ancestors()</a></code>
</li>
<li>optional <code>separation</code> argument (default NULL) to <code><a href="../reference/omop_descendants.html">omop_descendants()</a></code> and <code><a href="../reference/omop_ancestors.html">omop_ancestors()</a></code> filters on <code>min_levels_of_separation</code> e.g. c(1,2)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9003" id="omopcept-0009003-2023-06-14">omopcept 0.0.0.9003 2023-06-14<a class="anchor" aria-label="anchor" href="#omopcept-0009003-2023-06-14"></a></h2>
<ul><li><code><a href="../reference/omop_join_name_all.html">omop_join_name_all()</a></code></li>
<li>shortname copies of functions for interactive use <strong>ojoin() ojoinall()</strong>
</li>
<li>generalised <strong>omop_download()</strong> to get other omop tables</li>
<li>
<strong>omop_descendants()</strong> function to query omop hierarchy</li>
<li><strong>omop_ancestors()</strong></li>
<li>shortname function copies of above. <strong>odesc()</strong> and <strong>oance()</strong>
</li>
<li>added optional <strong>messages</strong> argument to query functions</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9002" id="omopcept-0009002-2023-05-15">omopcept 0.0.0.9002 2023-05-15<a class="anchor" aria-label="anchor" href="#omopcept-0009002-2023-05-15"></a></h2>
<ul><li>renamed package to omopcept</li>
<li>renamed package functions to make clearer, most start omop_*()</li>
<li>
<strong>omop_id()</strong> to search ids</li>
<li>supershort name copies of functions for interactive use <strong>oid() onames() ocodes()</strong>
</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Andy South.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

